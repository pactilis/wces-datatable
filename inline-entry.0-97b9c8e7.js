import{a as e,h as t,c as r}from"./lit-html-862ef6f9.js";import{v as a,p as n,y as s,k as o,E as i,a as l,A as c,L as p,w as d,T as u,F as h,S as m,b as y}from"./storybook-80cdf036.js";const b={url:new URL("./.storybook/preview.js",document.baseURI).href};function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function f(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */a(n),s({a11y:{config:{},options:{checks:{"color-contrast":{options:{noScroll:!0}}},restoreScroll:!0}},docs:{iframeHeight:"200px"}}),async function(){const e=await(await fetch(new URL("../custom-elements.json",b.url))).json();o(e)}(),window.JSCompiler_renameProperty=(e,t)=>e;const w={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},S=(e,t)=>t!==e&&(t==t||e==e),P={attribute:!0,type:String,converter:w,reflect:!1,hasChanged:S};class v extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=new Promise(e=>this._enableUpdatingResolver=e),this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,r)=>{const a=this._attributeNameForProperty(r,t);void 0!==a&&(this._attributeToPropertyMap.set(a,r),e.push(a))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e,t=P){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const r="symbol"==typeof e?Symbol():`__${e}`,a=this.getPropertyDescriptor(e,r,t);void 0!==a&&Object.defineProperty(this.prototype,e,a)}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(r){const a=this[e];this[t]=r,this._requestUpdate(e,a)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||P}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const r of t)this.createProperty(r,e[r])}}static _attributeNameForProperty(e,t){const r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,r=S){return r(e,t)}static _propertyValueFromAttribute(e,t){const r=t.type,a=t.converter||w,n="function"==typeof a?a:a.fromAttribute;return n?n(e,r):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const r=t.type,a=t.converter;return(a&&a.toAttribute||w.toAttribute)(e,r)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,r){t!==r&&this._attributeToProperty(e,r)}_propertyToAttribute(e,t,r=P){const a=this.constructor,n=a._attributeNameForProperty(e,r);if(void 0!==n){const e=a._propertyValueToAttribute(t,r);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(n):this.setAttribute(n,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const r=this.constructor,a=r._attributeToPropertyMap.get(e);if(void 0!==a){const e=r.getPropertyOptions(a);this._updateState=16|this._updateState,this[a]=r._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}_requestUpdate(e,t){let r=!0;if(void 0!==e){const a=this.constructor,n=a.getPropertyOptions(e);a._valueHasChanged(this[e],t,n.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,n))):r=!1}!this._hasRequestedUpdate&&r&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(e){}const e=this.performUpdate();return null!=e&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}v.finalized=!0;
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const C="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,O=Symbol();class N{constructor(e,t){if(t!==O)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(C?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const x=(e,...t)=>{const r=t.reduce((t,r,a)=>t+(e=>{if(e instanceof N)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(r)+e[a+1],e[0]);return new N(r,O)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.3.1");const j={};class U extends v{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(void 0===e)this._styles=[];else if(Array.isArray(e)){const t=(e,r)=>e.reduceRight((e,r)=>Array.isArray(r)?t(r,e):(e.add(r),e),r),r=t(e,new Set),a=[];r.forEach(e=>a.unshift(e)),this._styles=a}else this._styles=[e]}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?C?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){const t=this.render();super.update(e),t!==j&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){return j}}U.finalized=!0,U.render=e;let T,A,$,k,R,E,D,M,z,F,H,q=e=>e;window.customElements.define("wces-datatable",class extends U{static get properties(){return{header:{type:Array},data:{type:Array}}}constructor(){super(),this.header=[],this.data=null}static get styles(){return[x(T||(T=q`*,*::before,*::after{padding:0;margin:0;box-sizing:border-box}`)),x(A||(A=q`.container{display:grid;grid-template-rows:max-content max-content}.table{width:100%;border:solid 1px rgba(0,0,0,.08);border-collapse:collapse;border-radius:var(--radius-1)}.table__row,.table__header{transition:all .1s;border-bottom:solid 1px rgba(0,0,0,.08)}.table__row:hover{background-color:rgba(0,0,0,.05)}.table__header{height:3.5rem}.table__row .table__cell{height:3.25rem}.table__cell{padding:0 1rem;text-align:left}.table__header .table__cell--numeric{text-align:right}.table__row .table__cell--numeric{display:flex;justify-content:flex-end;align-items:center}`))]}render(){return t($||($=q` <div class="container"> <table class="table"> ${0} ${0} </table> </div> `),this.header&&this.header.length?this._renderHeader():t(k||(k=q``)),this.data&&this.data.length?this._renderRows():t(R||(R=q``)))}_renderHeader(){return t(E||(E=q` <tr class="table__header"> ${0} </tr> `),this.header.map(({name:e,displayName:a,isNumeric:n})=>t(D||(D=q` <th class="${0}">${0}</th> `),r({table__cell:!0,"table__cell--numeric":n}),a||e)))}_renderRows(){return t(M||(M=q` ${0} `),this.data.map(e=>t(z||(z=q` <tr class="table__row"> ${0} </tr> `),this._renderRow(e))))}_renderRow(e){return t(F||(F=q` ${0} `),this.header.map(({name:a,isNumeric:n,renderer:s})=>{const o={table__cell:!0,"table__cell--numeric":n},i=s?s(e,t):e[a];return t(H||(H=q` <td class="${0}">${0}</td> `),r(o),i)}))}});let I,V,B,J,L=e=>e;function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}const W=[{name:"company",displayName:"Company"},{name:"contact",displayName:"Contact"},{name:"country",displayName:"Country"},{name:"population",displayName:"Population",isNumeric:!0,renderer:(e,t)=>{const r=new Intl.NumberFormat("en-US",{maximumSignificantDigits:3});return t(I||(I=L`${0}`),r.format(e.population))}},{name:"",renderer:(e,t)=>t(V||(V=L`<input type="checkbox" id="${0}" name="${0}" value="${0}">`),e.id,e.id,e.id)}],X=[{id:1,company:"Alfreds Futterkiste",contact:"Maria Anders",country:"Germany",population:3e4},{id:2,company:"Berglunds snabbköp",contact:"Christina Berglund",country:"Sweden",population:3e3},{id:3,company:"Centro comercial Moctezuma",contact:"Francisco Chang",country:"Mexico",population:6e6}],K={header:W};function Y(e){let{components:r}=e,a=f(e,["components"]);return c("wrapper",G({},K,a,{components:r,mdxType:"MDXLayout"}),c(m,{title:"Datatable",decorators:[i,l],parameters:{component:"wces-datatable",options:{selectedPanel:"storybookjs/knobs/panel"}},mdxType:"Meta"}),c("h1",null,"Datatable"),c("p",null,"A reusable web component datatable following material design."),c("h2",null,"Features"),c("ul",null,c("li",{parentName:"ul"},"Supports custom renderer function"),c("li",{parentName:"ul"},"Right-aligns numeric data")),c("h2",null,"How to use"),c("h3",null,"Installation"),c("pre",null,c("code",G({parentName:"pre"},{className:"language-bash"}),"yarn add @wces/datatable\n")),c("pre",null,c("code",G({parentName:"pre"},{className:"language-js"}),"import '@wces/datatable/wces-datatable.js';\n")),c("p",null,"You can also import Component class and register it yourself."),c("pre",null,c("code",G({parentName:"pre"},{className:"language-js"}),"import { WcesDatatable } from '@wces/datatable'\n\ncustomElements.define('your-tag', WceDatatable);\n")),c("h3",null,"Usage"),c("h4",null,"Example usage"),c("p",null,"Table data properties have to match header's names."),c("pre",null,c("code",G({parentName:"pre"},{className:"language-js"}),"import { html, render } from \"lit-html\";\nimport '@wces/datatable/wces-datatable.js';\n\nconst header = [\n      { name: 'company', displayName: 'Company' },\n      { name: 'contact', displayName: 'Contact' },\n      { name: 'country', displayName: 'Country' },\n      {\n        name: 'population',\n        displayName: 'Population',\n        isNumeric: true,\n        renderer: (row, litHtmlTag) => {\n          const formatter = new Intl.NumberFormat('en-US', { maximumSignificantDigits: 3 });\n          return litHtmlTag`${formatter.format(row.population)}`\n        }\n      },\n      {\n        name: '',\n        renderer: (row, litHtmlTag) => {\n          return litHtmlTag`<input type=\"checkbox\" id=\"${row.id}\" name=\"${row.id}\" value=\"${row.id}\">`\n        }\n      }\n  ];\nconst data = [\n  {\n    id: 1,\n    company: 'Alfreds Futterkiste',\n    contact: 'Maria Anders',\n    country: 'Germany',\n    population: 30000,\n  },\n  {\n    id: 2,\n    company: 'Berglunds snabbköp',\n    contact: 'Christina Berglund',\n    country: 'Sweden',\n    population: 3000,\n  },\n  {\n    id: 3,\n    company: 'Centro comercial Moctezuma',\n    contact: 'Francisco Chang',\n    country: 'Mexico',\n    population: 6000000,\n  },\n];\n\nrender(\n  html`<wces-datatable .header=\"${header}\" .data=\"${data}\"></wces-datatable>`,\n  document.querySelector('#content')\n);\n\n")),c(h,{withToolbar:!0,mdxType:"Preview"},c(u,{name:"Demo",height:"220px",mdxType:"Story"},t(B||(B=L`<wces-datatable .header="${0}" .data="${0}"></wces-datatable>`),W,X))),c("h4",null,"Custom renderer"),c("p",null,"Custom renderer is a function that took two arguments:"),c("ul",null,c("li",{parentName:"ul"},c("inlineCode",{parentName:"li"},"row"),": The current row object"),c("li",{parentName:"ul"},c("inlineCode",{parentName:"li"},"litHtmlTag"),": ",c("inlineCode",{parentName:"li"},"lit-html")," tag function\nIt must return a tag html template. For example, to format a numeric column one can do:")),c("pre",null,c("code",G({parentName:"pre"},{className:"language-js"}),"const header = [\n  ...,\n  {\n    name: 'population',\n    displayName: 'Population',\n    isNumeric: true,\n    renderer: (row, litHtmlTag) => {\n      const formatter = new Intl.NumberFormat('en-US', { maximumSignificantDigits: 3 });\n      return litHtmlTag`${formatter.format(row.population)}`\n    }\n  }\n]\n")),c("p",null,c("inlineCode",{parentName:"p"},"Custom renderer")," can be used to render complexe ui controls. For example one can add a columns with checkboxes."),c("pre",null,c("code",G({parentName:"pre"},{className:"language-js"}),'const header = [\n  ...,\n  {\n    name: \'\',\n    renderer: (row, litHtmlTag) => {\n      return litHtmlTag`<input type="checkbox" id="${row.id}" name="${row.id}" value="${row.id}">`\n    }\n  }\n]\n')),c("h2",null,"API"),c(d,{of:"wces-datatable",mdxType:"Props"}))}Y.isMDXComponent=!0;const Q=()=>t(J||(J=L`<wces-datatable .header="${0}" .data="${0}"></wces-datatable>`),W,X);(Q.story={}).name="Demo",Q.story.parameters={mdxSource:'html`<wces-datatable .header="${header}" .data="${data}"></wces-datatable>`'};const Z={title:"Datatable",parameters:{component:"wces-datatable",options:{selectedPanel:"storybookjs/knobs/panel"}},decorators:[i,l],includeStories:["demo"]},ee={Demo:"demo"};Z.parameters=Z.parameters||{},Z.parameters.docs=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Z.parameters.docs||{},{page:()=>c(p,{mdxStoryNameToKey:ee,mdxComponentMeta:Z},c(Y,null))});var te=Object.freeze({__proto__:null,header:W,data:X,demo:Q,default:Z,__namedExportsOrder:["header","data","demo"]});y(()=>[te],{});
//# sourceMappingURL=inline-entry.0-97b9c8e7.js.map
